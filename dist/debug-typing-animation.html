<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Typing Animation</title>
    <style>
        body {
            padding: 50px;
            font-family: Arial, sans-serif;
        }

        /* Animated Typing Effect - Same as in index.html */
        .typing-effect {
            overflow: hidden;
            border-right: .15em solid #764ba2;
            white-space: nowrap;
            margin: 0 auto;
            letter-spacing: .1em;
            animation: 
                typing 3.5s steps(40, end),
                blink-caret .75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #764ba2; }
        }

        .debug-output {
            margin-top: 30px;
            padding: 20px;
            background: #f0f0f0;
            border-radius: 5px;
            font-family: monospace;
            white-space: pre-wrap;
        }

        .test-header {
            background: #e9ecef;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>Typing Animation Debug Tool</h1>
    
    <div class="test-header">
        <h1 class="display-4">Complete Turing Interview Guide</h1>
        <p>This is a test header that should get the typing effect</p>
    </div>

    <div class="test-header">
        <h2>Another Complete Turing Interview Guide Header</h2>
        <p>This h2 should also get the typing effect</p>
    </div>

    <div class="test-header">
        <h1>Regular Header Without Target Text</h1>
        <p>This should NOT get the typing effect</p>
    </div>

    <div class="debug-output" id="debug"></div>

    <script>
        const debug = document.getElementById('debug');
        let output = 'Debug Information:\n\n';

        document.addEventListener('DOMContentLoaded', function() {
            output += '1. DOMContentLoaded fired\n\n';

            // Test the exact code from index.html
            const headers = document.querySelectorAll('h1, h2');
            output += `2. Found ${headers.length} headers (h1, h2)\n\n`;

            headers.forEach((header, index) => {
                output += `Header ${index + 1}:\n`;
                output += `  - Tag: ${header.tagName}\n`;
                output += `  - Text: "${header.textContent}"\n`;
                output += `  - Contains target text: ${header.textContent.includes('Complete Turing Interview Guide')}\n`;
                
                if (header.textContent.includes('Complete Turing Interview Guide')) {
                    const text = header.textContent;
                    const originalHTML = header.innerHTML;
                    header.innerHTML = `<span class="typing-effect">${text}</span>`;
                    
                    output += `  - Applied typing effect!\n`;
                    output += `  - Original HTML: ${originalHTML}\n`;
                    output += `  - New HTML: ${header.innerHTML}\n`;
                    
                    // Check if animation is actually applied
                    setTimeout(() => {
                        const span = header.querySelector('.typing-effect');
                        if (span) {
                            const computedStyle = window.getComputedStyle(span);
                            output += `  - Computed animation: ${computedStyle.animation}\n`;
                            output += `  - Computed overflow: ${computedStyle.overflow}\n`;
                            output += `  - Computed white-space: ${computedStyle.whiteSpace}\n`;
                        }
                        debug.textContent = output;
                    }, 100);
                }
                output += '\n';
            });

            // Check CSS availability
            output += '\n3. Checking CSS Rules:\n';
            const styleSheets = document.styleSheets;
            let foundTypingEffect = false;
            let foundKeyframes = false;

            for (let sheet of styleSheets) {
                try {
                    const rules = sheet.cssRules || sheet.rules;
                    for (let rule of rules) {
                        if (rule.selectorText === '.typing-effect') {
                            foundTypingEffect = true;
                            output += '  - Found .typing-effect class rule\n';
                        }
                        if (rule.name === 'typing' || rule.name === 'blink-caret') {
                            foundKeyframes = true;
                            output += `  - Found @keyframes ${rule.name}\n`;
                        }
                    }
                } catch (e) {
                    // Cross-origin stylesheets might throw
                }
            }

            output += `  - .typing-effect class found: ${foundTypingEffect}\n`;
            output += `  - Keyframes found: ${foundKeyframes}\n`;

            debug.textContent = output;
        });
    </script>
</body>
</html>